{% extends "contact-general.html" %}

{% import "_form_macros.html" as form %}


{% block contents %}
<div class="row">
	<div class="col-md-8">
		<h1>{{title}}</h1>
		{% if abstract %}<div class="mainBlurb">{{abstract}}</div>{% endif %}
	</div>

	{% block sidebarLeft %}
	{% endblock sidebarLeft %}
</div>

<div class="row">
  <div class="col-xs-12">
    {{contents|safe}}
  </div>
</div>

<div class="row">
  <div class="col-xs-12 col-md-8">
    <div id="ng-app" ng-app="FormApp">
      <div ng-controller="FormController">
        <form name="form" role="form" class="form-horizontal" novalidate ng-cloak>
          {{form.multi(
              "type_of_data",
              "type of data",
              "radio",
              [
                'Historical Imagery',
                'LiDAR',
                'Maps',
                'OrthoImagery'
              ],
              true
          )}}

          {% set is_historical = "form_model.type_of_data == 'Historical Imagery'" %}
          <div ng-show="{{is_historical}}">
            {{form.multi(
                "time_frame",
                "time frame",
                "radio",
                [
                  'Single Year',
                  'Historical'
                ],
                is_historical
            )}}

            {{form.multi(
                "medium",
                "medium",
                "radio",
                [
                  'Paper',
                  'Digital'
                ],
                is_historical
            )}}

            {% set is_digital = "form_model.medium == 'Digital'" %}
            <div ng-show="{{is_digital}}">
              {{form.checkbox("georeference", "Georeference", "The data should be georeferenced.")}}

              {{form.select(
                  "software",
                  "software",
                  [
                    'ArcMap',
                    'ENVI',
                    'ERDAS',
                    'Global Mapper',
                    'Integraph',
                    'LP360',
                    'Microstation',
                    'PostGIS',
                    'QGIS',
                    'Other'
                  ],
                  is_digital
              )}}
            </div>
          </div>

          {% set is_lidar = "form_model.type_of_data == 'LiDAR'" %}
          <div ng-show="{{is_lidar}}">
            {{form.multi(
                "lidar_format",
                "Data Format",
                "checkbox",
                [
                  'LAS',
                  'DEM',
                  ['Breaklines', 'Breaklines (if available)']
                ],
                false
            )}}

            {{form.multi(
                "harddrive",
                "hard drive",
                "radio",
                [
                  'TNRIS Drive',
                  'Customer Provided Drive'
                ],
                is_lidar
            )}}

            {{form.checkbox("lidar_site_file", "Site file", "I have a file that contains the extent of the data I am requesting.")}}
          </div>

          {% set is_maps  = "form_model.type_of_data == 'Maps'" %}
          <div ng-show="{{is_maps}}">
            {{form.multi(
                "type_of_map",
                "type of map",
                "radio",
                [
                  ['Not TNRIS', 'Maps (USGS, NWI, FEMA)'],
                  ['TNRIS', 'Custom Map (TNRIS)']
                ],
                is_maps
            )}}

            {% set is_not_tnris  = "form_model.type_of_map == 'Not TNRIS'" %}
            <div ng-show="{{is_not_tnris}}">
              {{form.multi(
                  "map_option",
                  "map option",
                  "radio",
                  [
                    ['USGS', 'USGS (7.5 Minute)'],
                    ['NWI', 'NWI (7.5 Minute)'],
                    ['FEMA', 'FEMA (panel)']
                  ],
                  is_not_tnris
              )}}

              {{form.textarea(
                  "site_description",
                  "LIST ALL QUADS/PANELS AND SPECIFY QUANTITY FOR EACH MAPS SELECTED",
                  is_not_tnris
              )}}
            </div>
          </div>

          {{form.input("name", "name", "text", true)}}
          {{form.input("email", "email address", "email", true)}}
          {{form.input("phone", "phone number", "tel", false)}}
          {{form.input("address", "address", "text", true)}}

          {{form.select(
              "industry",
              "industry",
              [
                'Agriculture',
                'Cartography',
                'Conservation',
                'Construction',
                'Consulting',
                'Education',
                'Emergency Management',
                'Environmental',
                'Forestry',
                'Government',
                'Insurance',
                'Law Enforcement',
                'Oil and Gas',
                'Public Health',
                'Retail',
                'Utilities',
                'Urban Planning',
                'Other'
              ],
              true
          )}}

          {{form.submit()}}

        </form>
      </div>
    </div>
  </div>
</div>

{% endblock contents %}
